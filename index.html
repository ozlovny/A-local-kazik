<!DOCTYPE html>
<html lang="ru">
<script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
<head>
  <meta charset="UTF-8">
  <title>üéÆ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</title>
  <style>
    body {
      font-family: sans-serif;
      background: #111;
      color: #fff;
      text-align: center;
      padding-top: 40px;
    }
    h1 {
      font-size: 28px;
      margin-bottom: 20px;
    }
    .menu {
      display: flex;
      flex-direction: column;
      gap: 15px;
      max-width: 250px;
      margin: auto;
    }
    .menu a {
      display: block;
      padding: 15px;
      background: #222;
      color: #fff;
      text-decoration: none;
      font-size: 18px;
      border-radius: 8px;
      transition: background 0.3s;
    }
    .menu a:hover {
      background: #ff4444;
    }
    #balance {
      margin-top: 20px;
      font-size: 18px;
    }
    #topup {
      margin-top: 10px;
    }
    input, button {q
      padding: 8px;
      font-size: 16px;
      margin: 5px;
      border: none;
      border-radius: 5px;
    }
    button {
      background: #44aa44;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>üéÆ –í—ã–±–µ—Ä–∏ –∏–≥—Ä—É</h1>
  <div class="menu">
    <a href="mines.html">üí£ –ú–∏–Ω—ã</a>
    <a href="crash.html">üöÄ Crash</a>
    <a href="index.html">üé∞ –†—É–ª–µ—Ç–∫–∞</a>
  </div>

  <div id="balance">–ë–∞–ª–∞–Ω—Å: 100 ‚ÇΩ</div>
  <div id="topup">
    <input type="number" id="topupAmount" placeholder="–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è" min="1">
    <button onclick="topUp()">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
  </div>
<script>
  const connector = new TonConnect();
  let balance = parseInt(localStorage.getItem('balance')) || 100;
  let walletConnected = false;

  function updateBalance() {
    document.getElementById('balance').textContent = `–ë–∞–ª–∞–Ω—Å: ${balance} –º–æ–Ω–µ—Ç`;
    localStorage.setItem('balance', balance);
  }

  async function connectWallet() {
    await connector.restoreConnection();
    if (!connector.connected) {
      await connector.connectWallet();
    }
    walletConnected = true;
    document.getElementById('walletStatus').textContent = 'üîå –ö–æ—à–µ–ª—ë–∫: –ø–æ–¥–∫–ª—é—á–µ–Ω';
  }

  async function sendTon() {
    if (!walletConnected) {
      await connectWallet();
    }

    const amount = parseInt(document.getElementById('topupAmount').value);
    if (!amount || amount < 1) return;

    const transaction = {
      validUntil: Math.floor(Date.now() / 1000) + 60,
      messages: [
        {
          address: 'YOUR_TESTNET_ADDRESS_HERE',
          amount: (amount * 1e9).toString(), // 1 TON = 1e9 nanoTON
        }
      ]
    };

    try {
      await connector.sendTransaction(transaction);
      balance += amount;
      updateBalance();
      alert(`‚úÖ –ü–æ–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ ${amount} TON`);
    } catch (e) {
      alert('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ TON');
    }
  }

  updateBalance();
</script>
  <script>
  let balance = parseInt(localStorage.getItem('balance')) || 100;

    function updateBalance() {
      document.getElementById('balance').textContent = `–ë–∞–ª–∞–Ω—Å: ${balance} ‚ÇΩ`;
      localStorage.setItem('balance', balance);
    }

    function topUp() {
      const amount = parseInt(document.getElementById('topupAmount').value);
      if (!amount || amount < 1) return;
      balance += amount;
      updateBalance();
      document.getElementById('topupAmount').value = '';
    }

    updateBalance();
  </script>
</body>
</html>
